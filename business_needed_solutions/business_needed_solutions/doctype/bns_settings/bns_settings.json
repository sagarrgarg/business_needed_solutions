{
 "actions": [],
 "allow_rename": 1,
 "creation": "2025-04-05 02:44:18.812451",
 "doctype": "DocType",
 "engine": "InnoDB",
"field_order": [
 "tab_break_general",
 "general_section",
 "discount_type",
 "column_break_pan",
 "enforce_pan_uniqueness",
 "enforce_stock_update_or_reference",
 "enforce_expense_account_for_non_stock_items",
 
 "tab_break_grid",
 "item_grid_section",
 "enable_uom_restriction",
 "enable_conversion_tags",
 "enable_custom_update_items_po_so",
 
 "tab_break_submission",
 "submission_section",
 "restrict_submission",
 "submission_restriction_override_roles",
 "enable_per_warehouse_negative_stock_disallow",
 
 "tab_break_print",
 "print_format_section",
 "print_format",
 "section_break_rates",
 "rate_incl_tax",
 "rate_excl_tax",
 "column_break_rates",
 "is_item_amount_tax_incl",
 "secondary_rate_display",
 "secondary_rate_field",
 "section_break_display",
 "show_item_code",
 "bns_show_item_barcode",

 "tab_break_accounts",
 "reconciliation_section",
 "enable_auto_fifo_reconciliation",
 "include_future_payments_in_reconciliation",
 "reconciliation_batch_size",
 "column_break_reconciliation",
 "last_reconciliation_run",
 "last_reconciliation_status"
 ],
"fields": [
 {
  "fieldname": "tab_break_general",
  "fieldtype": "Tab Break",
  "label": "General Settings"
 },
 {
  "fieldname": "general_section",
  "fieldtype": "Section Break",
  "label": "General Controls"
  },
  {
   "default": "1",
   "description": "Enable UOM restriction in Stock Entry grid based on Item's allowed UOMs",
   "fieldname": "enable_uom_restriction",
   "fieldtype": "Check",
   "label": "Enable UOM Restriction"
  },
  {
   "default": "1", 
   "description": "Show conversion tags/badges in Stock Entry grid",
   "fieldname": "enable_conversion_tags",
   "fieldtype": "Check",
   "label": "Enable Conversion Tags"
  },
 {
  "default": "0",
  "description": "When enabled, ERPNext's standard 'Update Items' button on Sales Order / Purchase Order will be replaced by BNS Update Items (supports Price List Rate + Discounts based pricing).",
  "fieldname": "enable_custom_update_items_po_so",
  "fieldtype": "Check",
  "label": "Enable BNS Update Items for Sales/Purchase Orders"
 },
  {
   "default": "Single",
   "fieldname": "discount_type",
   "fieldtype": "Select",
   "label": "Discount Type",
   "options": "Single\nTriple Compounded",
   "permlevel": 1
  },
  {
   "fieldname": "general_section",
   "fieldtype": "Section Break"
  },
  {
   "fieldname": "column_break_pan",
   "fieldtype": "Column Break"
  },
  {
   "default": "0",
   "fieldname": "enforce_pan_uniqueness",
   "fieldtype": "Check",
   "label": "Enforce PAN Uniqueness",
   "description": "Ensures PAN numbers are unique across all customers and suppliers to prevent duplicate entries and maintain data integrity."
  },
  {
   "default": "0",
   "fieldname": "enforce_stock_update_or_reference",
   "fieldtype": "Check",
   "label": "Enforce Stock Update or Reference",
   "description": "Requires stock items in invoices to either update stock directly or reference a delivery note/purchase receipt for accurate inventory tracking."
  },
  {
   "fieldname": "section_break_submission_control",
   "fieldtype": "Section Break",
   "label": "Submission Control"
  },
  {
   "default": "0",
   "description": "Restrict submission of documents across all categories (Stock, Transaction, Order)",
   "fieldname": "restrict_submission",
   "fieldtype": "Check",
   "label": "Restrict Document Submission"
  },
  {
   "depends_on": "restrict_submission",
   "description": "Select roles that can submit documents in addition to System Manager",
   "fieldname": "submission_restriction_override_roles",
   "fieldtype": "Table MultiSelect",
   "label": "Override Submission Restriction",
   "options": "Has Role"
  },
  {
   "default": "0",
   "description": "Enable warehouse-level negative stock restriction. When enabled, warehouses can individually disallow negative stock even if 'Allow Negative Stock' is enabled in Stock Settings.",
   "fieldname": "enable_per_warehouse_negative_stock_disallow",
   "fieldtype": "Check",
   "insert_after": "submission_restriction_override_roles",
   "label": "Enable Per Warehouse Negative Stock Disallow"
  },
  {
   "default": "0",
   "fieldname": "enforce_expense_account_for_non_stock_items",
   "fieldtype": "Check",
   "label": "Enforce Expense Account for Non-Stock Items",
   "description": "Requires non-stock items (except fixed assets) to have an expense account configured for proper accounting and tracking."
  },
  {
   "fieldname": "tab_break_grid",
  "fieldtype": "Tab Break",
  "label": "Item Grid Controls"
 },
 {
  "fieldname": "item_grid_section",
  "fieldtype": "Section Break",
  "label": "Item Grid Settings"
 },
 {
  "fieldname": "tab_break_submission",
  "fieldtype": "Tab Break",
  "label": "Document Submission"
 },
 {
  "fieldname": "submission_section",
  "fieldtype": "Section Break",
  "label": "Submission Controls"
 },
 {
  "fieldname": "tab_break_print",
  "fieldtype": "Tab Break",
  "label": "Print Settings"
 },
 {
  "fieldname": "print_format_section",
  "fieldtype": "Section Break",
  "label": "Print Format Options"
 },
 {
  "fieldname": "section_break_display",
  "fieldtype": "Section Break",
  "label": "Item Display Options"
  },
  {
   "default": "1",
   "fieldname": "rate_incl_tax",
   "fieldtype": "Check",
   "label": "Rate (Incl Tax)"
  },
  {
   "fieldname": "column_break_giiq",
   "fieldtype": "Column Break"
  },
  {
   "default": "0",
   "fieldname": "rate_excl_tax",
   "fieldtype": "Check",
   "label": "Rate (Excl Tax)"
  },
  {
   "fieldname": "print_format",
   "fieldtype": "Table",
   "label": "Print Format",
   "options": "BNS Settings Print Format"
  },
  {
   "fieldname": "section_break_vlqx",
   "fieldtype": "Section Break"
  },
  {
   "fieldname": "section_break_qbpg",
   "fieldtype": "Section Break"
  },
  {
   "default": "0",
   "fieldname": "secondary_rate_display",
   "fieldtype": "Check",
   "label": "Secondary Rate Display"
  },
  {
   "depends_on": "secondary_rate_display",
   "fieldname": "secondary_rate_field",
   "fieldtype": "Select",
   "label": "Secondary Rate Field",
   "mandatory_depends_on": "secondary_rate_display",
   "options": "print_uom\nweight_uom"
  },
  {
   "fieldname": "column_break_qfib",
   "fieldtype": "Column Break"
  },
  {
   "default": "0",
   "fieldname": "is_item_amount_tax_incl",
   "fieldtype": "Check",
   "label": "Item Amount Incl Tax"
  },
  {
   "default": "0",
   "fieldname": "show_item_code",
   "fieldtype": "Check",
   "label": "Show Item Code"
  },
  {
   "default": "0",
   "fieldname": "bns_show_item_barcode",
   "fieldtype": "Check",
   "label": "Show Item Barcode (If Available)"
  },
  {
   "fieldname": "tab_break_accounts",
   "fieldtype": "Tab Break",
   "label": "Accounts"
  },
  {
   "fieldname": "reconciliation_section",
   "fieldtype": "Section Break",
   "label": "Auto FIFO Payment Reconciliation"
  },
  {
   "default": "0",
   "description": "Enable automatic FIFO-based payment reconciliation for all customers and suppliers. When enabled, a daily scheduled job will match unallocated payments to oldest outstanding invoices first.",
   "fieldname": "enable_auto_fifo_reconciliation",
   "fieldtype": "Check",
   "label": "Enable Auto FIFO Reconciliation"
  },
  {
   "default": "1",
   "depends_on": "enable_auto_fifo_reconciliation",
   "description": "Include future-dated payments when reconciling. This helps produce more accurate ageing reports by considering payments that will be applied.",
   "fieldname": "include_future_payments_in_reconciliation",
   "fieldtype": "Check",
   "label": "Include Future Payments"
  },
  {
   "default": "100",
   "depends_on": "enable_auto_fifo_reconciliation",
   "description": "Maximum number of allocations (payment-invoice matches) to process per run. Set to 0 for unlimited. Lower values reduce system load but require more runs to complete.",
   "fieldname": "reconciliation_batch_size",
   "fieldtype": "Int",
   "label": "Batch Size (Allocations per Run)"
  },
  {
   "fieldname": "column_break_reconciliation",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "last_reconciliation_run",
   "fieldtype": "Datetime",
   "label": "Last Reconciliation Run",
   "read_only": 1
  },
  {
   "fieldname": "last_reconciliation_status",
   "fieldtype": "Data",
   "label": "Last Reconciliation Status",
   "read_only": 1
  }
 ],
 "index_web_pages_for_search": 1,
 "issingle": 1,
 "links": [],
 "modified": "2025-09-22 02:55:56.144200",
 "modified_by": "Administrator",
 "module": "Business Needed Solutions",
 "name": "BNS Settings",
 "owner": "Administrator",
 "permissions": [
  {
   "create": 1,
   "delete": 1,
   "email": 1,
   "print": 1,
   "read": 1,
   "role": "System Manager",
   "share": 1,
   "write": 1
  },
  {
   "read": 1,
   "role": "All"
  },
  {
   "permlevel": 1,
   "read": 1,
   "role": "System Manager",
   "write": 1
  },
  {
   "create": 1,
   "delete": 1,
   "read": 1,
   "role": "Accounts Manager",
   "select": 1,
   "write": 1
  },
  {
   "permlevel": 1,
   "read": 1,
   "role": "Accounts Manager"
  }
 ],
 "row_format": "Dynamic",
 "sort_field": "modified",
 "sort_order": "DESC",
 "states": [],
 "track_changes": 1
}